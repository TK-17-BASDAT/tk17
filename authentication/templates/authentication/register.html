{% extends "base.html" %}


{% block content %}
<div class="bg-gray-100 font-poppins">
  <div class="min-h-screen flex items-center justify-center p-6">
    <div class="bg-white rounded-lg shadow-lg w-full max-w-2xl p-6">
      <h2 class="text-2xl font-semibold text-center mb-6">Register Akun</h2>

      <!-- Tabs -->
      <div class="border-b mb-6">
        <nav class="-mb-px flex space-x-4 overflow-x-auto">
          <button data-tab="klien_individu" class="tab-btn pb-2 px-3 text-gray-600 font-medium border-b-2 border-transparent hover:text-accent">
            Klien Individu
          </button>
          <button data-tab="klien_perusahaan" class="tab-btn pb-2 px-3 text-gray-600 font-medium border-b-2 border-transparent hover:text-accent">
            Klien Perusahaan
          </button>
          <button data-tab="frontdesk" class="tab-btn pb-2 px-3 text-gray-600 font-medium border-b-2 border-transparent hover:text-accent">
            Front-Desk Officer
          </button>
          <button data-tab="dokter" class="tab-btn pb-2 px-3 text-gray-600 font-medium border-b-2 border-transparent hover:text-accent">
            Dokter Hewan
          </button>
          <button data-tab="perawat" class="tab-btn pb-2 px-3 text-gray-600 font-medium border-b-2 border-transparent hover:text-accent">
            Perawat Hewan
          </button>
        </nav>
      </div>
      <!-- Tab Contents -->
      <div>        <!-- 1. Klien Individu -->
        <form id="klien_individu" method="post" action="" class="tab-content space-y-4">
          {% csrf_token %}
          <input type="hidden" name="form_type" value="klien_individu">
          <div>
            <label class="block text-gray-700">Email *</label>
            <input type="email" name="email" class="w-full border rounded px-3 py-2" required/>
          </div>
          <div class="grid grid-cols-3 gap-4">
            <div>
              <label class="block text-gray-700">Nama Depan *</label>
              <input type="text" name="nama_depan" class="w-full border rounded px-3 py-2" required/>
            </div>
            <div>
              <label class="block text-gray-700">Nama Tengah</label>
              <input type="text" name="nama_tengah" class="w-full border rounded px-3 py-2"/>
            </div>
            <div>
              <label class="block text-gray-700">Nama Belakang *</label>
              <input type="text" name="nama_belakang" class="w-full border rounded px-3 py-2" required/>
            </div>
          </div>          <div>
            <label class="block text-gray-700">Password *</label>
            <input type="password" name="password" class="w-full border rounded px-3 py-2" required/>
          </div>
          <div>
            <label class="block text-gray-700">Nomor Telepon *</label>
            <input type="tel" name="nomor_telepon" class="w-full border rounded px-3 py-2" required/>
          </div>
          <div>
            <label class="block text-gray-700">Alamat *</label>
            <textarea name="alamat" class="w-full border rounded px-3 py-2" rows="3" required></textarea>
          </div>
          <button class="w-full bg-primary text-white py-2 rounded hover:bg-secondary transition">
            Register
          </button>
          <p class="text-center text-gray-600 mt-4">
            Already have an account?
            <a href="{% url 'authentication:login' %}" class="text-accent font-medium hover:underline">
              Log in
            </a>
          </p>
        </form>

        <!-- 2. Klien Perusahaan -->
        <form id="klien_perusahaan" method="post" action="" class="tab-content hidden space-y-4">
          {% csrf_token %}
          <input type="hidden" name="form_type" value="klien_perusahaan">
          <div>
            <label class="block text-gray-700">Email *</label>
            <input type="email" name="email" class="w-full border rounded px-3 py-2" required/>
          </div>
          <div>
            <label class="block text-gray-700">Nama Perusahaan *</label>
            <input type="text" name="nama_perusahaan" class="w-full border rounded px-3 py-2" required/>
          </div>          <div>
            <label class="block text-gray-700">Password *</label>
            <input type="password" name="password" class="w-full border rounded px-3 py-2" required/>
          </div>
          <div>
            <label class="block text-gray-700">Nomor Telepon *</label>
            <input type="tel" name="nomor_telepon" class="w-full border rounded px-3 py-2" required/>
          </div>
          <div>
            <label class="block text-gray-700">Alamat *</label>
            <textarea name="alamat" class="w-full border rounded px-3 py-2" rows="3" required></textarea>
          </div>
          <button class="w-full bg-primary text-white py-2 rounded hover:bg-secondary transition">
            Register
          </button>
          <p class="text-center text-gray-600 mt-4">
            Already have an account?
            <a href="{% url 'authentication:login' %}" class="text-accent font-medium hover:underline">
              Log in
            </a>
          </p>
        </form>

        <!-- 3. Front-Desk Officer -->
        <form id="frontdesk" method="post" action="" class="tab-content hidden space-y-4">
          {% csrf_token %}
          <input type="hidden" name="form_type" value="front_desk">
          <div>
            <label class="block text-gray-700">Email *</label>
            <input type="email" name="email" class="w-full border rounded px-3 py-2" required/>
          </div>          <div>
            <label class="block text-gray-700">Password *</label>
            <input type="password" name="password" class="w-full border rounded px-3 py-2" required/>
          </div>
          <div>
            <label class="block text-gray-700">Nomor Telepon *</label>
            <input type="tel" name="nomor_telepon" class="w-full border rounded px-3 py-2" required/>
          </div>
          <div>
            <label class="block text-gray-700">Tanggal Diterima *</label>
            <input type="date" name="tanggal_diterima" class="w-full border rounded px-3 py-2" required/>
          </div>
          <div>
            <label class="block text-gray-700">Alamat *</label>
            <textarea name="alamat" class="w-full border rounded px-3 py-2" rows="3" required></textarea>
          </div>
          <button class="w-full bg-primary text-white py-2 rounded hover:bg-secondary transition">
            Register
          </button>
          <p class="text-center text-gray-600 mt-4">
            Already have an account?
            <a href="{% url 'authentication:login' %}" class="text-accent font-medium hover:underline">
              Log in
            </a>
          </p>
        </form>

        <!-- ==== 4. Dokter Hewan ==== -->
        <form id="dokter" method="post" action="" class="tab-content hidden space-y-4">
          {% csrf_token %}
          <input type="hidden" name="form_type" value="dokter_hewan">
            <!-- Informasi Umum -->
            <div><label class="block text-gray-700">Nomor Izin Praktik *</label>
              <input type="text" name="no_izin_praktik" class="w-full border rounded px-3 py-2" required/>
            </div>            <div><label class="block text-gray-700">Email *</label>
              <input type="email" name="email" class="w-full border rounded px-3 py-2" required/>
            </div>
            <div><label class="block text-gray-700">Password *</label>
              <input type="password" name="password" class="w-full border rounded px-3 py-2" required/>
            </div>
            <div><label class="block text-gray-700">Nomor Telepon *</label>
              <input type="tel" name="nomor_telepon" class="w-full border rounded px-3 py-2" required/>
            </div>
            <div><label class="block text-gray-700">Tanggal Diterima *</label>
              <input type="date" name="tanggal_diterima" class="w-full border rounded px-3 py-2" required/>
            </div>
            <div><label class="block text-gray-700">Alamat *</label>
              <textarea name="alamat" class="w-full border rounded px-3 py-2" rows="3" required></textarea>
            </div>
  
            <!-- Sertifikat -->
            <div id="dokter-sertifikat-section" class="space-y-2">
              <h3 class="font-medium">Sertifikat</h3>
              <button type="button" onclick="addDokterCert()"
                class="text-sm bg-primary text-white px-2 py-1 rounded">
                + Tambah Sertifikat
              </button>
              <div id="dokter-sertifikat-container" class="space-y-4">
                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label class="block text-gray-700">Nomor Sertifikat *</label>
                    <input type="text" name="sertifikat_no[]" 
                      class="w-full border rounded px-3 py-2" required/>
                  </div>
                  <div>
                    <label class="block text-gray-700">Nama Sertifikat *</label>
                    <input type="text" name="sertifikat_nama[]" 
                      class="w-full border rounded px-3 py-2" required/>
                  </div>
                </div>
              </div>
            </div>            <!-- Jadwal Praktik -->
            <div id="dokter-jadwal-section" class="space-y-2">
              <h3 class="font-medium">Jadwal Praktik</h3>
              <button type="button" onclick="addDokterSchedule()"
                class="text-sm bg-primary text-white px-2 py-1 rounded">
                + Tambah Jadwal
              </button>
              <div id="dokter-jadwal-container" class="space-y-4">
                <div class="grid grid-cols-2 gap-4">
                  <div>                    <label class="block text-gray-700">Hari *</label>
                    <select name="jadwal_hari[]" 
                      class="w-full border rounded px-3 py-2" required>
                      <option>Senin</option><option>Selasa</option>
                      <option>Rabu</option><option>Kamis</option>
                      <option>Jumat</option><option>Sabtu</option>
                      <option>Minggu</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-gray-700">Jam *</label>
                    <input type="text" name="jadwal_jam[]" 
                      class="w-full border rounded px-3 py-2" 
                      placeholder="13:00 - 15:00" required/>
                  </div>
                </div>
              </div>
            </div>
  
            <button class="w-full bg-primary text-white py-2 rounded hover:bg-secondary transition">
              Register
            </button>
            <p class="text-center text-gray-600 mt-4">
              Already have an account?
              <a href="{% url 'authentication:login' %}" class="text-accent font-medium hover:underline">
                Log in
              </a>
            </p>
          </form>          
          <!-- ==== 5. Perawat Hewan ==== -->
          <form id="perawat" method="post" action="" class="tab-content hidden space-y-4">
            {% csrf_token %}
            <input type="hidden" name="form_type" value="perawat_hewan">
            <!-- Informasi Umum -->
            <div><label class="block text-gray-700">Nomor Izin Praktik *</label>
              <input type="text" name="no_izin_praktik" class="w-full border rounded px-3 py-2" required/>
            </div>
            <div><label class="block text-gray-700">Email *</label>
              <input type="email" name="email" class="w-full border rounded px-3 py-2" required/>            </div>
            <div><label class="block text-gray-700">Password *</label>
              <input type="password" name="password" class="w-full border rounded px-3 py-2" required/>
            </div>
            <div><label class="block text-gray-700">Nomor Telepon *</label>
              <input type="tel" name="nomor_telepon" class="w-full border rounded px-3 py-2" required/>
            </div>
            <div><label class="block text-gray-700">Tanggal Diterima *</label>
              <input type="date" name="tanggal_diterima" class="w-full border rounded px-3 py-2" required/>
            </div>
            <div><label class="block text-gray-700">Alamat *</label>
              <textarea name="alamat" class="w-full border rounded px-3 py-2" rows="3" required></textarea>
            </div>
  
            <!-- Sertifikat -->
            <div id="perawat-sertifikat-section" class="space-y-2">
              <h3 class="font-medium">Sertifikat</h3>
              <button type="button" onclick="addPerawatCert()"
                class="text-sm bg-primary text-white px-2 py-1 rounded">
                + Tambah Sertifikat
              </button>
              <div id="perawat-sertifikat-container" class="space-y-4">
                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label class="block text-gray-700">Nomor Sertifikat *</label>
                    <input type="text" name="sertifikat_no[]" 
                      class="w-full border rounded px-3 py-2" required/>
                  </div>
                  <div>
                    <label class="block text-gray-700">Nama Sertifikat *</label>
                    <input type="text" name="sertifikat_nama[]" 
                      class="w-full border rounded px-3 py-2" required/>
                  </div>
                </div>
              </div>
            </div>
  
            <button class="w-full bg-primary text-white py-2 rounded hover:bg-secondary transition">
              Register
            </button>
            <p class="text-center text-gray-600 mt-4">
              Already have an account?
              <a href="{% url 'authentication:login' %}" class="text-accent font-medium hover:underline">
                Log in
              </a>
            </p>
          </form>
        </div>
      </div>
    </div>
  
    <script>
      const tabs = document.querySelectorAll('.tab-btn');
      const contents = document.querySelectorAll('.tab-content');
      function activate(tabKey) {
        tabs.forEach(b => {
          if (b.dataset.tab === tabKey) {
            b.classList.replace('border-transparent','border-accent');
            b.classList.replace('text-gray-600','text-accent');
          } else {
            b.classList.replace('border-accent','border-transparent');
            b.classList.replace('text-accent','text-gray-600');
          }
        });
        contents.forEach(c => c.id === tabKey
          ? c.classList.remove('hidden')
          : c.classList.add('hidden')
        );
      }
      tabs.forEach(b => b.addEventListener('click', () => activate(b.dataset.tab)));
      activate('klien_individu');      
      function addDokterCert(){
        const container = document.getElementById('dokter-sertifikat-container');
        const row = document.createElement('div');
        row.className = 'grid grid-cols-2 gap-4';
        row.innerHTML = `
          <div>
            <label class="block text-gray-700">Nomor Sertifikat *</label>
            <input type="text" name="sertifikat_no[]" class="w-full border rounded px-3 py-2" required/>
          </div>
          <div>
            <label class="block text-gray-700">Nama Sertifikat *</label>
            <input type="text" name="sertifikat_nama[]" class="w-full border rounded px-3 py-2" required/>
          </div>`;
        container.appendChild(row);
      }
      
      function addDokterSchedule(){
        const container = document.getElementById('dokter-jadwal-container');
        const row = document.createElement('div');
        row.className = 'grid grid-cols-2 gap-4';
        row.innerHTML = `
          <div>
            <label class="block text-gray-700">Hari *</label>
            <select name="jadwal_hari[]" class="w-full border rounded px-3 py-2" required>
              <option>Senin</option><option>Selasa</option><option>Rabu</option>
              <option>Kamis</option><option>Jumat</option><option>Sabtu</option><option>Minggu</option>
            </select>
          </div>
          <div>
            <label class="block text-gray-700">Jam *</label>
            <input type="text" name="jadwal_jam[]" class="w-full border rounded px-3 py-2"
              placeholder="13:00 - 15:00" required/>
          </div>`;
        container.appendChild(row);
      }
      
      function addPerawatCert(){
        const container = document.getElementById('perawat-sertifikat-container');
        const row = document.createElement('div');
        row.className = 'grid grid-cols-2 gap-4';
        row.innerHTML = `
          <div>
            <label class="block text-gray-700">Nomor Sertifikat *</label>
            <input type="text" name="sertifikat_no[]" class="w-full border rounded px-3 py-2" required/>
          </div>
          <div>
            <label class="block text-gray-700">Nama Sertifikat *</label>
            <input type="text" name="sertifikat_nama[]" class="w-full border rounded px-3 py-2" required/>
          </div>`;
        container.appendChild(row);
      }
    </script>
  </div>
{% endblock content %}